# Mare Synchronos Docker Environment Variables
# This file contains the required environment variables for the Docker setup

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL Database Configuration
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=mare
POSTGRES_USER=mare
POSTGRES_PASSWORD=secretdevpassword

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
# Redis Configuration for caching and SignalR backplane
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=secretredispassword

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
# CDN URL - URL for the Static Files Server (must point to the Docker service name)
DEV_MARE_CDNURL=http://sphene.dynip.online:6200

# JWT Secret Key - IMPORTANT: Change this value for production environments!
# Must be at least 64 characters long
JWT_SECRET=teststringteststringteststringteststringteststringteststringteststringteststringteststringteststring

# Server Shard Configuration
SHARD_NAME=Main
METRICS_PORT=6050

# Authentication Configuration
FAILED_AUTH_FOR_TEMP_BAN=5
TEMP_BAN_DURATION_IN_MINUTES=5

# User Limits Configuration
MAX_EXISTING_GROUPS_BY_USER=6
MAX_JOINED_GROUPS_BY_USER=10
MAX_GROUP_USER_COUNT=100
MAX_CHARA_DATA_BY_USER=10
MAX_CHARA_DATA_BY_USER_VANITY=50

# Account Management
PURGE_UNUSED_ACCOUNTS=false
PURGE_UNUSED_ACCOUNTS_PERIOD_IN_DAYS=14

# Expected Client Version
EXPECTED_CLIENT_VERSION=0.0.3

# =============================================================================
# STATIC FILES SERVER CONFIGURATION
# =============================================================================
# File Management Configuration
CACHE_DIRECTORY=/opt/cache
FORCED_DELETION_OF_FILES_AFTER_HOURS=-1
CACHE_SIZE_HARD_LIMIT_IN_GIB=-1
UNUSED_FILE_RETENTION_PERIOD_IN_DAYS=7
USE_COLD_STORAGE=false
COLD_STORAGE_DIRECTORY=/opt/cold-storage
REMOTE_CACHE_SOURCE_URI=

# Service Addresses
SERVICE_ADDRESS=http://localhost:5002
STATIC_FILE_SERVICE_ADDRESS=http://localhost:5003
MAIN_SERVER_ADDRESS=
MAIN_FILE_SERVER_ADDRESS=

# =============================================================================
# DISCORD INTEGRATION (OPTIONAL)
# =============================================================================
# Discord Bot Token - Optional, for Discord integration
# If you don't want to use a Discord bot, leave these values empty
DEV_MARE_DISCORDTOKEN=TESTI

# Discord Channel IDs - Optional, for Discord integration
# All three can be set to the same channel
DEV_MARE_DISCORDCHANNEL=1409832771198910494
DEV_MARE_DISCORDROLE=1410272516395630622
DISCORD_CHANNEL_FOR_MESSAGES=

# =============================================================================
# EXTERNAL API INTEGRATION (OPTIONAL)
# =============================================================================
# XIVAPI Key - Optional, for FFXIV API integration
DEV_MARE_XIVAPIKEY=
XIVAPI_KEY=

# =============================================================================
# DATABASE POOL CONFIGURATION
# =============================================================================
# Database Context Pool Sizes (Advanced Configuration)
DB_CONTEXT_POOL_SIZE_SERVER=512
DB_CONTEXT_POOL_SIZE_SERVICES=1024
DB_CONTEXT_POOL_SIZE_STATIC_FILES=256

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================
# Hub Execution Concurrency Filter
HUB_EXECUTION_CONCURRENCY_FILTER=50

# Run Permission Cleanup on Startup
RUN_PERMISSION_CLEANUP_ON_STARTUP=true

# =============================================================================
# NOTES
# =============================================================================
# - For local development: Set DEV_MARE_CDNURL to http://localhost:6200
# - For production: JWT_SECRET must be changed!
# - Discord variables are optional and can be left empty
# - XIVAPI Key is optional for extended FFXIV features
# - Database Pool Sizes can be adjusted based on server capacity
# - All paths should be adjusted for Docker containers (/opt/ instead of local paths)